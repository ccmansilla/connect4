<html>
<head>
<meta charset="utf-8" /> 
<title>Connect4</title>
<style>

.tablero{
	display: table;
	border-collapse: collapse;
}

.tablero div{
	display: table-row;
}

.tablero div div{
	display: table-cell;
	width: 40px;
	height: 40px;
	border: 1px black solid;
}

div.vacio{
	background-color: silver;	
}
div.ficha1{
	background-color: blue;		
}
div.ficha2{
	background-color: red;	
}
</style>
<script>
//creado por ccmansilla
var mini4 = {
	filas : 6,
	columnas : 7,
	tablero : [],
	jugador : 'O',
     
	//crea el tablero vacio
	inicio : function(){
		this.tablero = new Array(this.filas-1); //arreglo de 0-5
		for(var i=0; i<this.filas; i++){
			this.tablero[i] = new Array(this.columnas-1); //arreglo de 0-6
			for(var j=0; j<this.columnas; j++){
				this.tablero[i][j] = '_'; //contenido: '_'=vacio, 'O'=ficha1, 'X'=ficha2
			}
		}
		this.dibujar();
		this.cambiarJugador();
	},

	dibujar : function(){
		var div = document.getElementById('tablero');
		var html = "";	
		for(var i = this.filas-1; i>=0; i--){
			html += "<div>";
			for(var j = this.columnas-1; j>=0; j--){
				var contenido = this.tablero[i][j];
				var ficha = "";
				switch(contenido){
					case 'O':
						ficha="ficha1";
						break;
					case 'X':
						ficha="ficha2";
						break;	
					default:
						ficha="vacio";
				}
                                html+= "<div onclick = mini4.ponerFicha("+j+") class='"+ficha+"' ></div>";
			}
			html+= "</div>"
		}
		div.innerHTML = html;
	},

	ponerFicha : function(columna){
		for(var i=0; i<this.filas; i++){
			if ((this.tablero[i][columna])=== '_'){
			    this.tablero[i][columna]= this.jugador;
			    break;	
			}
		}
		
               	this.dibujar();			
	        this.cambiarJugador();
	},

	cambiarJugador: function(){
                var div = document.getElementById('jugador');
		var ficha = "";
		if(this.jugador === 'O'){
			this.jugador = 'X';
			ficha="ficha2";
		}
		else{
			this.jugador = 'O';
			ficha="ficha1";
		}


                div.innerHTML = "JUGADOR: <div 	style='width: 42px;height: 42px;' class='"+ficha+"'></div><br>";
	}
};

function reset(){
	mini4.inicio();
}
</script>
</head>
<body onload='reset()'>
<h1>Connect4</h1>
<input type='button' onclick='reset()' value='reset'>
<hr/>
<div id = 'jugador'></div>
<div id = 'tablero' class='tablero'></div>
</body>
</html>
